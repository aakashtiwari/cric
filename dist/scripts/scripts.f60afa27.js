"use strict";angular.module("cricApp",[]);var app=angular.module("cricApp");app.service("questionaireService",function(){return[{id:1,question:"When was the last time India won the Cricket World Cup?",options:["1983","2015","2007","2011"],correct_answer:"2011"},{id:2,question:"Who has won the most numbers of Cricket World cups ?",options:["New Zealand","India","West Indies","Australia"],correct_answer:"Australia"},{id:3,question:"Who scored the highest individual score in Test Cricket?",options:["M. Hayden","Sir Sachin R Tendulkar","Virendar Shewag","Brian Lara"],correct_answer:"Brian Lara"},{id:4,question:"How many International centuries does Sachin Tendulkar has under his name?",options:["49","50","51","52"],correct_answer:"49"}]});var app=angular.module("cricApp");app.component("cricketTrivia",{selector:"cricket-trivia",templateUrl:"views/cric-trivia.html",controller:["questionaireService",function(a){var b=this;b.submitted=!1,b.result={show:!1},b.questionaire=a,b.submitForm=function(){b.submitted=!0;var a=b.checkValue();return a?void b.createGraph():!1},b.checkValue=function(){var a=!0;return b.questionaire.forEach(function(b){b.answer||(a=!1)}),a},b.calculateCorrectAnswer=function(){var a=0;return b.questionaire.forEach(function(b){b.answer==b.correct_answer&&a++}),a},b.createGraph=function(){var a=b.result;a.total=b.questionaire.length,a.correct=b.calculateCorrectAnswer(),a.incorrect=a.total-a.correct,a.correctPercent=a.correct/a.total*100,a.incorrectPercent=100-a.correctPercent,a.show=!0},b.clearValues=function(){b.submitted=!1,b.result.show=!1,b.questionaire.forEach(function(a){a.answer=""})}}]});var app=angular.module("cricApp");app.component("result",{selector:"result",templateUrl:"views/result.html",bindings:{result:"<"},controller:function(){var a=this;a.range=function(a){for(var b=[],c=.5;a>=c;c+=.5)b.push(c);return b.reverse()}}}),angular.module("cricApp").run(["$templateCache",function(a){a.put("views/cric-trivia.html",'<div class="qa-block"> <div ng-repeat="o in $ctrl.questionaire"> <question>{{o.question}}</question> <answer> <select class="styled-select semi-square" ng-class="{\'error\': !(o.answer) && $ctrl.submitted}" ng-model="o.answer"> <option value="" selected>Please Answer</option> <option ng-repeat="option in o.options" value="{{option}}">{{option}}</option> </select> <label class="error" ng-show="$ctrl.submitted && !(o.answer) ">Please select one option atleast</label> </answer> </div> <div class="button-container"> <span class="button" ng-click="$ctrl.submitForm()">Submit</span> <span class="button" ng-click="$ctrl.clearValues()">Clear Values</span> </div> </div> <result result="$ctrl.result"></result>'),a.put("views/main.html",'<h1>Cricket Trivia</h1> <cricket-trivia class="block questioniare"></cricket-trivia>'),a.put("views/result.html",'<div class="result" ng-show="$ctrl.result.show"> <y-axis> <ul> <li ng-repeat="n in $ctrl.range($ctrl.result.total)">{{n}}</li> </ul> </y-axis> <correct-bar class="bar" style="height:{{$ctrl.result.correctPercent}}%"><span>correct</span></correct-bar> <incorrect-bar class="bar" style="height:{{$ctrl.result.incorrectPercent}}%"><span>incorrect</span></incorrect-bar> </div>')}]);